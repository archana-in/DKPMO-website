<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Law Consultancy - DKPMO</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <a href="../../index.html" id="back-home">Home</a>

    <!-- View: Landing (Bubbles) -->
    <div id="landing-view">
        <div class="law-bubble" style="background-color: #3498db;" onclick="showView('submit-view')">New Case</div>
        <div class="law-bubble" style="background-color: #e74c3c;" onclick="showView('login-view')">Track Case</div>
        <div class="law-bubble" style="background-color: #2c3e50; font-size: 1rem;" onclick="showView('lawyer-login-view')">Lawyer Login</div>
    </div>

    <!-- View: Submit Case -->
    <div id="submit-view" class="view-section">
        <h2>Submit Legal Query</h2>
        <form id="submit-form">
            <div class="form-group">
                <label>Name</label>
                <input type="text" id="sub-name" required>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="sub-email" required>
            </div>
            <div class="form-group">
                <label>Legal Query</label>
                <textarea id="sub-query" rows="5" required></textarea>
            </div>
            <button type="submit" class="btn">Submit Case</button>
            <button type="button" class="btn btn-danger" onclick="showLanding()">Cancel</button>
        </form>
    </div>

    <!-- View: User Login -->
    <div id="login-view" class="view-section">
        <h2>Track Your Case</h2>
        <form id="login-form">
            <div class="form-group">
                <label>Case ID</label>
                <input type="text" id="login-id" placeholder="CASE..." required>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="login-pass" required>
            </div>
            <button type="submit" class="btn">Login</button>
            <button type="button" class="btn btn-danger" onclick="showLanding()">Back</button>
        </form>
    </div>

    <!-- View: Lawyer Login -->
    <div id="lawyer-login-view" class="view-section">
        <h2>Lawyer Administration</h2>
        <form id="lawyer-form">
            <div class="form-group">
                <label>Admin ID</label>
                <input type="text" id="adm-id" required>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="adm-pass" required>
            </div>
            <button type="submit" class="btn">Login</button>
            <button type="button" class="btn btn-danger" onclick="showLanding()">Back</button>
        </form>
    </div>

    <!-- View: User Dashboard -->
    <div id="user-dashboard" class="view-section">
        <div class="nav-bar">
            <span>Case ID: <strong id="ud-case-id"></strong></span>
            <a onclick="logout()">Logout</a>
        </div>
        
        <h3>Status: <span id="ud-status" class="status-badge"></span></h3>
        
        <div id="ud-details">
            <p><strong>Query:</strong> <span id="ud-query"></span></p>
            <p><strong>Quote:</strong> <span id="ud-quote">Pending</span></p>
        </div>

        <div id="ud-actions" style="margin: 20px 0;">
            <!-- Dynamic Actions -->
        </div>

        <h3>Messages</h3>
        <div id="ud-messages" class="message-box"></div>
        <div style="display: flex;">
            <input type="text" id="ud-msg-input" placeholder="Type a message...">
            <button class="btn" onclick="sendMessage('user')">Send</button>
        </div>
    </div>

    <!-- View: Lawyer Dashboard -->
    <div id="lawyer-dashboard" class="view-section" style="max-width: 1000px;">
        <div class="nav-bar">
            <span>Lawyer Admin Panel</span>
            <a onclick="logout()">Logout</a>
        </div>

        <div style="display: flex; gap: 20px; margin-bottom: 20px;">
            <div class="card" style="background: #e3f2fd; padding: 15px; flex: 1; border-radius: 5px;">
                <h4>Total Cases</h4>
                <h2 id="stats-total">0</h2>
            </div>
            <div class="card" style="background: #fff3e0; padding: 15px; flex: 1; border-radius: 5px;">
                <h4>Open</h4>
                <h2 id="stats-open">0</h2>
            </div>
            <div class="card" style="background: #e8f5e9; padding: 15px; flex: 1; border-radius: 5px;">
                <h4>Revenue</h4>
                <h2 id="stats-revenue">â‚¹0</h2>
            </div>
        </div>

        <h3>Active Cases</h3>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Status</th>
                    <th>Aging (Days)</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="ld-cases-body">
                <!-- Rows -->
            </tbody>
        </table>

        <div id="ld-case-detail" style="margin-top: 30px; display: none; border-top: 2px solid #ccc; padding-top: 20px;">
            <h3>Manage Case: <span id="ld-detail-id"></span></h3>
            <p><strong>Query:</strong> <span id="ld-detail-query"></span></p>
            
            <div class="form-group">
                <label>Set Quote (INR)</label>
                <input type="number" id="ld-quote-input">
                <button class="btn" onclick="setQuote()">Update Quote</button>
            </div>
            
            <h4>Messages</h4>
            <div id="ld-messages" class="message-box"></div>
            <div style="display: flex;">
                <input type="text" id="ld-msg-input" placeholder="Reply...">
                <button class="btn" onclick="sendMessage('lawyer')">Send</button>
            </div>

            <button class="btn btn-danger" style="margin-top: 10px;" onclick="closeCaseByLawyer()">Force Close Case</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
